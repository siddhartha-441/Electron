<html>
<head>
  <title>Frontend Design with Dropdown Menus</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
  <link href="https://fonts.googleapis.com/css2?family=Tektur&display=swap" rel="stylesheet" rel="stylesheet">


<body>
  <header>
    <div class="logo">
      <img src="https://akm-img-a-in.tosshub.com/businesstoday/images/story/201405/telangana-govt_660_053114102100.jpg" alt="Custom Logo">
    </div>
    <nav>
      <ul>
        <li class="dropdown">
          <a href="#">Home</a>
          <ul class="dropdown-menu">
            <li><a href="#">Print Report</a></li>
            <li><a href="#">Print Table</a></li>
            <li><a href="#">Print Coulmns</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#">Edit</a>
          <ul class="dropdown-menu">
            <li><a href="#">Add column</a></li>
            <li><a href="#">Delete Column</a></li>
            <li><a href="#">Add Entry</a></li>
            <li><a href="#">Edit Entry</a></li>
          </ul>
        <li class="dropdown">
          <a href="#">Tables</a>
          <ul class="dropdown-menu">
            <li><a href="#">Select table</a></li>
            <li><a href="#">Show tables</a></li>
          </ul>
        </li>
      </ul>
    </nav>
    <py-config>
      packages = ["matplotlib", "pandas","tabulate","mysql-connector-python"]
    </py-config>
    <py-script>
      import pandas as pd
      import matplotlib.pyplot as plt
      import mysql.connector


      mydb = mysql.connector.connect(host='localhost',password='@spiderweb45', user= 'root',database='ss')
      mycursor = mydb.cursor()

      mycursor.execute("Select * from ss.1000cr_a")
      table_1000cr= mycursor.fetchall()
      mycursor.execute("Select * from ss.2500cr_a")
      table_2500cr= mycursor.fetchall()

      # Converting lists to dataframes and assigning column names for easy access
      df1 = pd.DataFrame(table_1000cr)
      df1.columns=['a','b','c','d','e','f','g']
      df2 = pd.DataFrame(table_2500cr)
      df2.columns=['a','b','c','d','e','f','g']

      #STANDARD STREAM INPUT
      district_name = 'Rangareddy'

      District = pd.DataFrame(data=0, columns=['Length in kms(1000cr)', 'No. of works(1000cr)',
                                                      'Amount (Rs. In Lakhs)(1000cr)', 'Length in kms(2500cr)',
                                                      'No. of works(2500cr)', 'Amount (Rs. In Lakhs)(2500cr)',
                                                      'Length in kms(total)', 'No. of works(total)',
                                                      'Amount (Rs. In Lakhs)(total)'],
                                      index=['Works Sanctioned', 'Works Completed', 'Works in progress',
                                          'Tenders received and Work about to be started',
                                          'Estimate stage/Tenders no response/Work not yet entrusted'])

      columns = ['Length in kms(1000cr)', 'No. of works(1000cr)', 'Amount (Rs. In Lakhs)(1000cr)',
                  'Length in kms(2500cr)', 'No. of works(2500cr)', 'Amount (Rs. In Lakhs)(2500cr)', 'Length in kms(total)',
                  'No. of works(total)', 'Amount (Rs. In Lakhs)(total)']
      index = ['Works Sanctioned', 'Works Completed', 'Works in progress',
                  'Tenders received and Work about to be started',
                  'Estimate stage/Tenders no response/Work not yet entrusted']
      iter = ['work completed','work in progress','tender recieved','estimate']
      i=1
      for x in iter:
          list = []

          # First 3 entries in one row
          Constituency_df = df1[df1['b'] == district_name]

          y = Constituency_df.loc[Constituency_df['g'] == x, 'e'].sum()
          list.append(y)
          y = (Constituency_df.g.values == x).sum()
          list.append(y)
          y = Constituency_df.loc[Constituency_df['g'] == x, 'f'].sum()
          list.append(y)

          # Second 3 entries in one row
          Constituency_df = df2[df2['b'] == district_name]

          y = Constituency_df.loc[Constituency_df['g'] == x, 'e'].sum()
          list.append(y)
          y = (Constituency_df.g.values == x).sum()
          list.append(y)
          y = Constituency_df.loc[Constituency_df['g'] == x, 'f'].sum()
          list.append(y)

          # Last 3 entries in one row
          list.append(list[0]+list[3])
          list.append(list[1] + list[4])
          list.append(list[2] + list[5])

          District.loc[index[i]] = list
          i=i+1

      list = []
      for i in columns:
          y= sum(District[i])
          list.append(y)

      District.loc['Works Sanctioned'] = list


      print(District.to_markdown())
     </py-script>

    <div class="search"></div>
      
      <input type="text" placeholder="Search">
      <button>Go</button>
  </header>

  <main>
    
  <input type="radio" id="a1" name="a" value="30">
  <label for="a1">2013</label><br>
  <input type="radio" id="a2" name="a" value="30">
  <label for="a2">2014</label><br>
   <input type="radio" id="a2" name="a" value="30">
  <label for="a2">2015</label><br>
    <input type="radio" id="a2" name="a" value="30">
  <label for="a2">2016</label><br>
    <input type="radio" id="a2" name="a" value="30">
  <label for="a2">2017</label><br>
    <input type="radio" id="a2" name="a" value="30">
  <label for="a2">2018</label><br>
    <input type="radio" id="a2" name="a" value="30">
  <label for="a2">2019</label><br>
    <input type="radio" id="a2" name="a" value="30">
  <label for="a2">2020</label><br>
    <input type="radio" id="a2" name="a" value="30">
  <label for="a2">2021</label><br>
    <input type="radio" id="a2" name="a" value="30">
  <label for="a2">2022</label><br>
    <input type="radio" id="a2" name="a" value="30">
  <label for="a2">2023</label><br><br><br><br>
    
    <input type="radio" id="b1" name="b" value="30">
  <label for="a2">circle</label><br>
    <input type="radio" id="b2" name="b" value="30">
  <label for="a2">district</label><br>
    <input type="radio" id="b3" name="b" value="30">
  <label for="a2">constituency</label><br>
  </main>

  <script src="script.js"></script>
</body>
</html>
